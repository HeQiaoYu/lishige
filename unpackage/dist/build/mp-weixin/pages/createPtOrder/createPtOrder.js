(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/createPtOrder/createPtOrder"],{"0965":function(e,a,t){"use strict";(function(e){t("969c");d(t("66fd"));var a=d(t("6378"));function d(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("543d")["createPage"])},"1e2a":function(e,a,t){"use strict";var d=t("f4cb"),r=t.n(d);r.a},6378:function(e,a,t){"use strict";t.r(a);var d=t("e105"),r=t("70e8");for(var i in r)"default"!==i&&function(e){t.d(a,e,(function(){return r[e]}))}(i);t("1e2a");var s,n=t("f0c5"),o=Object(n["a"])(r["default"],d["b"],d["c"],!1,null,null,null,!1,d["a"],s);a["default"]=o.exports},"70e8":function(e,a,t){"use strict";t.r(a);var d=t("8297"),r=t.n(d);for(var i in d)"default"!==i&&function(e){t.d(a,e,(function(){return d[e]}))}(i);a["default"]=r.a},8297:function(e,a,t){"use strict";(function(e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var d=t("4d01"),i=t("302f");s(t("411c")),t("7638");function s(e){return e&&e.__esModule?e:{default:e}}var n={data:function(){return{active:0,onshow:0,maskState:0,desc:"",payType:1,data:{dispatchtype:0,remark:""},addressData:{realname:"",mobile:"",addressName:"",address:"",area:"",default:!1,id:0,lng:"",lat:""},diyform:{},list:[],alldownprice:0,merchid:0}},onLoad:function(e){var a=this;a.id=e.id,a.options=e,a.optionid=e.optionid,a.ladder_id=e.ladder_id,a.type=e.type,a.heads=e.heads,a.teamid=e.teamid,a.createOrder(e.id,e.optionid,e.ladder_id,e.type,e.heads,e.teamid)},methods:{navClick:function(e){this.active=e},createOrder:function(a,t,r,s,n,o){var c=this;(0,d.pintuanCreadOrder)(a,t,r,s,n,o).then((function(e){c.onshow=1,c.data=e.data,c.sysset=e.sysset,e.data.address&&(c.aid=e.data.address.id,c.addressData={realname:e.data.address.realname,mobile:e.data.address.mobile,addressName:e.data.address.province+e.data.address.city+e.data.address.area+e.data.address.street,address:e.data.address.province+e.data.address.city+e.data.address.area+e.data.address.street,area:e.data.address.address,default:"1"==e.data.address.isdefault,id:e.data.address.id,lng:e.data.address.lat,lat:e.data.address.lng}),e.data.fields.length>0&&(c.diyform={f_data:e.data.f_data,fields:e.data.fields})})).catch((function(a){return setTimeout((function(){e.redirectTo({url:"/pages/mygroups/groupsorder?state=0"})}),300),!1})),(0,i.getUser)().then((function(e){c.userInfo=e}))},toggleMask:function(e){var a=this,t="show"===e?10:300,d="show"===e?1:0;this.maskState=2,setTimeout((function(){a.maskState=d}),t)},numberChange:function(e){this.number=e.number},changePayType:function(e){this.payType=e},submit:function(){var a=this,t=this,r={id:t.options.id?t.options.id:0,group_option_id:t.options.optionid,ladder_id:t.options.ladder_id,type:t.options.type,heads:t.options.heads,teamid:t.options.teamid?t.options.teamid:0,aid:t.addressData.id?t.addressData.id:0,message:t.desc,realname:t.addressData.realname?t.addressData.realname:t.userInfo.nickname,mobile:t.addressData.mobile?t.addressData.mobile:t.userInfo.mobile,deduct:0,isverify:t.active};r=t.convertModelToFormData(r),(0,d.pintuanSumbitOrder)(r).then((function(t){if(0!=t.error)return a.$api.msg(t.message),!1;e.redirectTo({url:"/pages/money/grouppay?id=".concat(t.orderid)})}))},convertModelToFormData:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Object,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("undefined"!==typeof e&&null!==e)if(e instanceof Date)a[t]=e.toISOString();else if(e instanceof Array)for(var d=0;d<e.length;d++)this.convertModelToFormData(e[d],a,t+"["+d+"]");else if("object"===typeof e)for(var r in e)e.hasOwnProperty(r)&&this.convertModelToFormData(e[r],a,t?t+"["+r+"]":r);else a[t]=e.toString();return a},dataChange:function(e){var a=this.data,t=this.list;switch(e.target.id){case"remark":a.remark=e.detail.value;break;case"deduct":if(a.deduct=e.detail.value,a.deduct2)return;var d=parseFloat(t.realprice);d+=a.deduct?-parseFloat(t.deductmoney):parseFloat(t.deductmoney),t.realprice=d;break;case"deduct2":if(a.deduct2=e.detail.value,a.deduct)return;d=parseFloat(t.realprice),d+=a.deduct2?-parseFloat(t.deductcredit2):parseFloat(t.deductcredit2),t.realprice=d}t.realprice<=0&&(t.realprice=1e-6),t.realprice=r.toFixed(t.realprice,2),this.$set(this,"data",a),this.$set(this,"list",t)},stopPrevent:function(){}}};a.default=n}).call(this,t("543d")["default"])},e105:function(e,a,t){"use strict";var d,r=function(){var e=this,a=e.$createElement;e._self._c},i=[];t.d(a,"b",(function(){return r})),t.d(a,"c",(function(){return i})),t.d(a,"a",(function(){return d}))},f4cb:function(e,a,t){}},[["0965","common/runtime","common/vendor"]]]);