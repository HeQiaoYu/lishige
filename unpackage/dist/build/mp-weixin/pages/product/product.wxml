<view class="container"><view class="carousel-section"><swiper class="carousel" circular="{{true}}" duration="400" data-event-opts="{{[['change',[['swiperChange',['$event']]]]]}}" bindchange="__e"><block wx:for="{{goodInfo.thumbs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="carousel-item"><image class="loaded" src="{{item}}" mode="aspectFill"></image></swiper-item></block></swiper><view class="swiper-dots">{{swiperCurrent+1+"/"+swiperLength}}</view></view><view class="introduce-section"><text class="title fl">{{goodInfo.title+''}}</text><view class="proXq-share flexBox fr"><view data-event-opts="{{[['tap',[['toFavorite',['$event']]]]]}}" class="{{[goodInfo['isfavorite']?'proShareItem active':'proShareItem']}}" bindtap="__e"><uni-icons style="{{(goodInfo['isfavorite']?'color:#FF6129':'')}}" vue-id="1c037ce0-1" type="star" bind:__l="__l"></uni-icons>收藏</view><view data-event-opts="{{[['tap',[['share',['$event']]]]]}}" class="proShareItem" bindtap="__e"><uni-icons vue-id="1c037ce0-2" type="upload" bind:__l="__l"></uni-icons>分享</view></view><view class="clear"></view><view class="price-box fl"><text class="price-tip">¥</text><text class="price">{{goodInfo.marketprice}}</text><text class="m-price">{{"¥"+goodInfo.productprice}}</text></view><view class="proXq-yishou fr">{{'已售'+goodInfo.sales+''}}</view><view class="clear"></view></view><view data-event-opts="{{[['tap',[['toggleYhq',['$event']]]]]}}" class="proXqKuai flexBox between" bindtap="__e"><view class="proXq-fanxian"><block wx:if="{{activity.enough||activity.merch_enough}}"><block><block wx:if="{{activity.enough}}"><view class="proYh flexBox"><view class="proYh-tip">返现</view>{{'全场满'+activity.enough[0].enough+"立减"+activity.enough[0].money+''}}</view></block><block wx:if="{{activity.merch_enough}}"><view class="proYh flexBox"><view class="proYh-tip">满减</view>{{'本店满'+activity.merch_enough[0].enough+"立减"+activity.merch_enough[0].give+''}}</view></block></block></block><block wx:if="{{fullbackgoods}}"><view class="proYh flexBox"><view class="proYh-tip">{{goodInfo.fullbacktext}}</view>该商品享受<block wx:if="{{fullbackgoods.type==0}}"><label class="_span">{{"¥"+fullbackgoods.maxallfullbackallprice}}</label></block><block wx:if="{{fullbackgoods.type==1}}"><label class="_span">{{fullbackgoods.maxallfullbackallprice+"%"}}</label></block>{{'的'+goodInfo.fullbacktext+''}}</view></block><block wx:for="{{goodInfo.coupons}}" wx:for-item="item" wx:for-index="index"><block><view class="proYh flexBox"><view class="proYh-tip">领券</view><block wx:if="{{item.backpre}}"><text>{{item.backmoney}}<block wx:if="{{item.backtype==1}}"><text>折</text></block></text></block></view></block></block></view><text class="yticon icon-you"></text></view><view data-event-opts="{{[['tap',[['goShop',['$0'],['shop.id']]]]]}}" class="proXqKuai flexBox between" bindtap="__e"><view class="proXqShop-int flexBox"><view class="proShop-tx"><image src="{{shop.logo}}" mode></image></view><view class="proShop-int"><view class="proShop-title ellipsis-1">{{shop.shopname}}</view><view class="proShop-number clear"><block wx:if="{{shop.mobile}}"><view class="proShopTel flexBox fl"><text class="uni-icon uni-icon-phone-filled">{{shop.mobile}}</text></view></block></view></view></view><view class="proXqShop-jt"><text class="proXqShop-tit">进入店铺</text><text class="yticon icon-you"></text></view></view><view class="detail-desc"><view class="d-header"><text>商品详情</text></view><rich-text nodes="{{content}}"></rich-text></view><view class="pageBottomDiy flexBox between"><view class="flexBox"><navigator class="p-b-btn pageBtnOrange" url="{{'/pages/shop/shop?id='+shop.id}}" hover-class="none"><uni-icons vue-id="1c037ce0-3" type="shop" bind:__l="__l"></uni-icons><text>店铺</text></navigator><navigator class="p-b-btn" url="/pages/cart/cart" hover-class="none" open-type="switchTab" data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" bindtap="__e"><uni-icons vue-id="1c037ce0-4" type="cart" bind:__l="__l"></uni-icons><text>购物车</text></navigator></view><view class="action-btn-group flexBox"><button class="action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['toggleSpec',[0]]]]]}}" bindtap="__e">加入购物车</button><button class="action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['toggleSpec',[1]]]]]}}" bindtap="__e">立即购买</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="a-t"><image src="{{goodInfo.thumb}}"></image><view class="right"><text class="price"><block wx:if="{{goodInfo.ispresell>0&&(goodInfo.preselltimeend==0||goodInfo.preselltimeend>goodInfo.thistime)}}"><block>{{goodInfo.presellprice+''}}</block></block><block wx:else><block wx:if="{{goodInfo.isdiscount!=0&&goodInfo.isdiscount_time>=now}}"><block>{{''+goodInfo.minprice+''}}</block></block><block wx:else><block><block wx:if="{{goodInfo.maxprice==goodInfo.minprice}}"><block>{{''+goodInfo.marketprice+''}}</block></block><block wx:else><block>{{''+goodInfo.minprice+"~"+goodInfo.maxprice+''}}</block></block></block></block></block></text><text class="textHuiLineThough">{{"￥"+goodInfo.marketprice}}</text></view></view><block wx:for="{{specList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.name}}</text><view class="item-list"><block wx:for="{{specChildList}}" wx:for-item="childItem" wx:for-index="childIndex" wx:key="childIndex"><block wx:if="{{childItem.pid===item.id}}"><text data-event-opts="{{[['tap',[['selectSpec',[childIndex,'$0'],[[['specChildList','',childIndex,'pid']]]]]]]}}" class="{{['tit',(childItem.selected)?'selected':'']}}" bindtap="__e">{{''+childItem.name+''}}</text></block></block></view></view></block><view class="attr-list flexBox between" style="flex-direction:row;"><text>购买数量</text><uni-number-box vue-id="1c037ce0-5" border-radius="{{true}}" min="{{0}}" value="{{number}}" max="{{maxnumber}}" data-event-opts="{{[['^change',[['onNumberChange',['$event']]]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view><button data-event-opts="{{[['tap',[['tobutton',['$event']]]]]}}" class="yhqAlt-btn" bindtap="__e">确定</button></view></view><view class="{{['popup spec',yhqClass]}}"><view class="mask"></view><view class="layer attr-content"><view class="yhqAlt-tit">当前优惠</view><view class="yhqAlt-quan"><view class="yhqAltItem flexBox between"><view class="yhqAltIt-price"><text>￥</text>50</view><view class="yhqAltIt-int"><text class="textOrange">满999使用</text><text>店铺优惠券</text><text>2020.02.28-2020.03.28</text></view><view class="yhqAltIt-btn">立即领取</view><view class="yhqAltIt-icon"><image src="../../static/img/yilingqu@2x.png" mode></image></view></view><view class="yhqAltItem flexBox between cur"><view class="yhqAltIt-price"><text>￥</text>50</view><view class="yhqAltIt-int"><text class="textOrange">满999使用</text><text>店铺优惠券</text><text>2020.02.28-2020.03.28</text></view><view class="yhqAltIt-btn">立即领取</view><view class="yhqAltIt-icon"><image src="../../static/img/yilingqu@2x.png" mode></image></view></view></view><view class="proYh flexBox"><view class="proYh-tip">金币</view>购买可得39金币</view><button data-event-opts="{{[['tap',[['toggleYhq',['$event']]]]]}}" class="yhqAlt-btn" bindtap="__e">关闭</button></view></view><share class="vue-ref" vue-id="1c037ce0-6" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>